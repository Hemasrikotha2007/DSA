#include <stdio.h> 
#include <stdlib.h> 
struct node  
{ 
    int data; 
    struct node *next; 
}; 
struct node *first = NULL; 
struct node *last = NULL; 
// Function prototypes 
void create(); 
void reverse(); 
void display(); 
int main()  
{ 
    int ch; 
    while (1) 
  { 
        printf("\n1. Create\n2. Display\n3. Reverse\n4. Exit\n");  // Fixed 
formatting issue 
        printf("Enter your choice: "); 
        scanf("%d", &ch); 
        switch (ch) 
   { 
            case 1: create(); break; 
            case 2: display(); break; 
            case 3: reverse(); break; 
            case 4: exit(0);  // Exit condition 
            default: printf("Invalid choice\n"); break; 
         } 
    } 
    return 0; 
} 
 
// Function to create a new node and append it to the list 
void create() 
 { 
    int d; 
    struct node *newnode = (struct node*)malloc(sizeof(struct node)); 
    printf("Enter data: "); 
    scanf("%d", &d); 
    newnode->data = d; 
    newnode->next = NULL; 
    if (first == NULL) 
        first = last = newnode; 
    else  
 { 
        last->next = newnode; 
        last = newnode; 
    } 
} 
 
// Function to display the linked list 
void display() { 
    struct node *temp = first; 
    printf("Linked List:\n "); 
    while (temp != NULL) 
 { 
        printf("%d->", temp->data); 
        temp = temp->next; 
    } 
    printf("NULL\n"); 
} 
 
// Function to reverse the linked list 
void reverse()  
{ 
    struct node *current = first, *next = NULL, *prev = NULL; 
    while (current != NULL)  
 { 
        next = current->next;  // Save the next node 
        current->next = prev;  // Reverse the link 
        prev = current;        // Move prev forward 
        current = next;        // Move current forward 
    } 
    first = prev;  // Update head of the reversed list 
    printf("List reversed successfully.\n"); 
} 
